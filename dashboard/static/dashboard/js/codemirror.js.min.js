!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(r,t){function n(e){for(var r,t=!1,n=!1;null!=(r=e.next());){if(!t){if("/"==r&&!n)return;"["==r?n=!0:n&&"]"==r&&(n=!1)}t=!t&&"\\"==r}}function a(e,r,t){return ze=e,Te=t,r}function i(e,r){var t=e.next();if('"'==t||"'"==t)return r.tokenize=o(t),r.tokenize(e,r);if("."==t&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return a("number","number");if("."==t&&e.match(".."))return a("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(t))return a(t);if("="==t&&e.eat(">"))return a("=>","operator");if("0"==t&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),a("number","number");if("0"==t&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),a("number","number");if("0"==t&&e.eat(/b/i))return e.eatWhile(/[01]/i),a("number","number");if(/\d/.test(t))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),a("number","number");if("/"==t)return e.eat("*")?(r.tokenize=u,u(e,r)):e.eat("/")?(e.skipToEnd(),a("comment","comment")):je(e,r,1)?(n(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),a("regexp","string-2")):(e.eatWhile(We),a("operator","operator",e.current()));if("`"==t)return r.tokenize=c,c(e,r);if("#"==t)return e.skipToEnd(),a("error","error");if(We.test(t))return">"==t&&r.lexical&&">"==r.lexical.type||e.eatWhile(We),a("operator","operator",e.current());if(Me.test(t)){e.eatWhile(Me);var i=e.current();if("."!=r.lastType){if(Oe.propertyIsEnumerable(i)){var s=Oe[i];return a(s.type,s.style,i)}if("async"==i&&e.match(/^\s*[\(\w]/,!1))return a("async","keyword",i)}return a("variable","variable",i)}}function o(e){return function(r,t){var n,o=!1;if(qe&&"@"==r.peek()&&r.match(Pe))return t.tokenize=i,a("jsonld-keyword","meta");for(;null!=(n=r.next())&&(n!=e||o);)o=!o&&"\\"==n;return o||(t.tokenize=i),a("string","string")}}function u(e,r){for(var t,n=!1;t=e.next();){if("/"==t&&n){r.tokenize=i;break}n="*"==t}return a("comment","comment")}function c(e,r){for(var t,n=!1;null!=(t=e.next());){if(!n&&("`"==t||"$"==t&&e.eat("{"))){r.tokenize=i;break}n=!n&&"\\"==t}return a("quasi","string-2",e.current())}function s(e,r){r.fatArrowAt&&(r.fatArrowAt=null);var t=e.string.indexOf("=>",e.start);if(!(0>t)){if(Ie){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,t));n&&(t=n.index)}for(var a=0,i=!1,o=t-1;o>=0;--o){var u=e.string.charAt(o),c=Se.indexOf(u);if(c>=0&&3>c){if(!a){++o;break}if(0==--a){"("==u&&(i=!0);break}}else if(c>=3&&6>c)++a;else if(Me.test(u))i=!0;else{if(/["'\/]/.test(u))return;if(i&&!a){++o;break}}}i&&!a&&(r.fatArrowAt=o)}}function l(e,r,t,n,a,i){this.indented=e,this.column=r,this.type=t,this.prev=a,this.info=i,null!=n&&(this.align=n)}function f(e,r){for(var t=e.localVars;t;t=t.next)if(t.name==r)return!0;for(var n=e.context;n;n=n.prev)for(var t=n.vars;t;t=t.next)if(t.name==r)return!0}function d(e,r,t,n,a){var i=e.cc;for(Ue.state=e,Ue.stream=a,Ue.marked=null,Ue.cc=i,Ue.style=r,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var o=i.length?i.pop():Ce?g:h;if(o(t,n)){for(;i.length&&i[i.length-1].lex;)i.pop()();return Ue.marked?Ue.marked:"variable"==t&&f(e,n)?"variable-2":r}}}function m(){for(var e=arguments.length-1;e>=0;e--)Ue.cc.push(arguments[e])}function p(){return m.apply(null,arguments),!0}function v(e){function r(r){for(var t=r;t;t=t.next)if(t.name==e)return!0;return!1}var n=Ue.state;if(Ue.marked="def",n.context){if(r(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(r(n.globalVars))return;t.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function y(){Ue.state.context={prev:Ue.state.context,vars:Ue.state.localVars},Ue.state.localVars=Be}function k(){Ue.state.localVars=Ue.state.context.vars,Ue.state.context=Ue.state.context.prev}function b(e,r){var t=function(){var t=Ue.state,n=t.indented;if("stat"==t.lexical.type)n=t.lexical.indented;else for(var a=t.lexical;a&&")"==a.type&&a.align;a=a.prev)n=a.indented;t.lexical=new l(n,Ue.stream.column(),e,null,t.lexical,r)};return t.lex=!0,t}function w(){var e=Ue.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function x(e){function r(t){return t==e?p():";"==e?m():p(r)}return r}function h(e,r){return"var"==e?p(b("vardef",r.length),Z,x(";"),w):"keyword a"==e?p(b("form"),A,h,w):"keyword b"==e?p(b("form"),h,w):"{"==e?p(b("}"),G,w):";"==e?p():"if"==e?("else"==Ue.state.lexical.info&&Ue.state.cc[Ue.state.cc.length-1]==w&&Ue.state.cc.pop()(),p(b("form"),A,h,w,ne)):"function"==e?p(se):"for"==e?p(b("form"),ae,h,w):"variable"==e?Ie&&"type"==r?(Ue.marked="keyword",p(K,x("operator"),K,x(";"))):Ie&&"declare"==r?(Ue.marked="keyword",p(h)):p(b("stat"),S):"switch"==e?p(b("form"),A,x("{"),b("}","switch"),G,w,w):"case"==e?p(g,x(":")):"default"==e?p(x(":")):"catch"==e?p(b("form"),y,x("("),le,x(")"),h,w,k):"class"==e?p(b("form"),de,w):"export"==e?p(b("stat"),ye,w):"import"==e?p(b("stat"),be,w):"module"==e?p(b("form"),_,x("{"),b("}"),G,w,w):"async"==e?p(h):"@"==r?p(g,h):m(b("stat"),g,x(";"),w)}function g(e){return j(e,!1)}function V(e){return j(e,!0)}function A(e){return"("!=e?m():p(b(")"),g,x(")"),w)}function j(e,r){if(Ue.state.fatArrowAt==Ue.stream.start){var t=r?M:I;if("("==e)return p(y,b(")"),D(le,")"),w,x("=>"),t,k);if("variable"==e)return m(y,_,x("=>"),t,k)}var n=r?E:$;return Ne.hasOwnProperty(e)?p(n):"function"==e?p(se,n):"class"==e?p(b("form"),fe,w):"keyword c"==e||"async"==e?p(r?T:z):"("==e?p(b(")"),z,x(")"),w,n):"operator"==e||"spread"==e?p(r?V:g):"["==e?p(b("]"),Ve,w,n):"{"==e?F(U,"}",null,n):"quasi"==e?m(q,n):"new"==e?p(O(r)):p()}function z(e){return e.match(/[;\}\)\],]/)?m():m(g)}function T(e){return e.match(/[;\}\)\],]/)?m():m(V)}function $(e,r){return","==e?p(g):E(e,r,!1)}function E(e,r,t){var n=0==t?$:E,a=0==t?g:V;return"=>"==e?p(y,t?M:I,k):"operator"==e?/\+\+|--/.test(r)||Ie&&"!"==r?p(n):"?"==r?p(g,x(":"),a):p(a):"quasi"==e?m(q,n):";"!=e?"("==e?F(V,")","call",n):"."==e?p(N,n):"["==e?p(b("]"),z,x("]"),w,n):Ie&&"as"==r?(Ue.marked="keyword",p(K,n)):"regexp"==e?(Ue.state.lastType=Ue.marked="operator",Ue.stream.backUp(Ue.stream.pos-Ue.stream.start-1),p(a)):void 0:void 0}function q(e,r){return"quasi"!=e?m():"${"!=r.slice(r.length-2)?p(q):p(g,C)}function C(e){return"}"==e?(Ue.marked="string-2",Ue.state.tokenize=c,p(q)):void 0}function I(e){return s(Ue.stream,Ue.state),m("{"==e?h:g)}function M(e){return s(Ue.stream,Ue.state),m("{"==e?h:V)}function O(e){return function(r){return"."==r?p(e?P:W):"variable"==r&&Ie?p(Y,e?E:$):m(e?V:g)}}function W(e,r){return"target"==r?(Ue.marked="keyword",p($)):void 0}function P(e,r){return"target"==r?(Ue.marked="keyword",p(E)):void 0}function S(e){return":"==e?p(w,h):m($,x(";"),w)}function N(e){return"variable"==e?(Ue.marked="property",p()):void 0}function U(e,r){if("async"==e)return Ue.marked="property",p(U);if("variable"==e||"keyword"==Ue.style){if(Ue.marked="property","get"==r||"set"==r)return p(B);var t;return Ie&&Ue.state.fatArrowAt==Ue.stream.start&&(t=Ue.stream.match(/^\s*:\s*/,!1))&&(Ue.state.fatArrowAt=Ue.stream.pos+t[0].length),p(H)}return"number"==e||"string"==e?(Ue.marked=qe?"property":Ue.style+" property",p(H)):"jsonld-keyword"==e?p(H):"modifier"==e?p(U):"["==e?p(g,x("]"),H):"spread"==e?p(g,H):":"==e?m(H):void 0}function B(e){return"variable"!=e?m(H):(Ue.marked="property",p(se))}function H(e){return":"==e?p(V):"("==e?m(se):void 0}function D(e,r,t){function n(a,i){if(t?t.indexOf(a)>-1:","==a){var o=Ue.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),p(function(t,n){return t==r||n==r?m():m(e)},n)}return a==r||i==r?p():p(x(r))}return function(t,a){return t==r||a==r?p():m(e,n)}}function F(e,r,t){for(var n=3;n<arguments.length;n++)Ue.cc.push(arguments[n]);return p(b(r,t),D(e,r),w)}function G(e){return"}"==e?p():m(h,G)}function J(e,r){if(Ie){if(":"==e)return p(K);if("?"==r)return p(J)}}function K(e,r){return"variable"==e||"void"==r?"keyof"==r?(Ue.marked="keyword",p(K)):(Ue.marked="type",p(X)):"string"==e||"number"==e||"atom"==e?p(X):"["==e?p(b("]"),D(K,"]",","),w,X):"{"==e?p(b("}"),D(Q,"}",",;"),w,X):"("==e?p(D(R,")"),L):void 0}function L(e){return"=>"==e?p(K):void 0}function Q(e,r){return"variable"==e||"keyword"==Ue.style?(Ue.marked="property",p(Q)):"?"==r?p(Q):":"==e?p(K):"["==e?p(g,J,x("]"),Q):void 0}function R(e){return"variable"==e?p(R):":"==e?p(K):void 0}function X(e,r){return"<"==r?p(b(">"),D(K,">"),w,X):"|"==r||"."==e?p(K):"["==e?p(x("]"),X):"extends"==r?p(K):void 0}function Y(e,r){return"<"==r?p(b(">"),D(K,">"),w,X):void 0}function Z(){return m(_,J,re,te)}function _(e,r){return"modifier"==e?p(_):"variable"==e?(v(r),p()):"spread"==e?p(_):"["==e?F(_,"]"):"{"==e?F(ee,"}"):void 0}function ee(e,r){return"variable"!=e||Ue.stream.match(/^\s*:/,!1)?("variable"==e&&(Ue.marked="property"),"spread"==e?p(_):"}"==e?m():p(x(":"),_,re)):(v(r),p(re))}function re(e,r){return"="==r?p(V):void 0}function te(e){return","==e?p(Z):void 0}function ne(e,r){return"keyword b"==e&&"else"==r?p(b("form","else"),h,w):void 0}function ae(e){return"("==e?p(b(")"),ie,x(")"),w):void 0}function ie(e){return"var"==e?p(Z,x(";"),ue):";"==e?p(ue):"variable"==e?p(oe):m(g,x(";"),ue)}function oe(e,r){return"in"==r||"of"==r?(Ue.marked="keyword",p(g)):p($,ue)}function ue(e,r){return";"==e?p(ce):"in"==r||"of"==r?(Ue.marked="keyword",p(g)):m(g,x(";"),ce)}function ce(e){")"!=e&&p(g)}function se(e,r){return"*"==r?(Ue.marked="keyword",p(se)):"variable"==e?(v(r),p(se)):"("==e?p(y,b(")"),D(le,")"),w,J,h,k):Ie&&"<"==r?p(b(">"),D(K,">"),w,se):void 0}function le(e,r){return"@"==r&&p(g,le),"spread"==e||"modifier"==e?p(le):m(_,J,re)}function fe(e,r){return"variable"==e?de(e,r):me(e,r)}function de(e,r){return"variable"==e?(v(r),p(me)):void 0}function me(e,r){return"<"==r?p(b(">"),D(K,">"),w,me):"extends"==r||"implements"==r||Ie&&","==e?p(Ie?K:g,me):"{"==e?p(b("}"),pe,w):void 0}function pe(e,r){return"modifier"==e||"async"==e||"variable"==e&&("static"==r||"get"==r||"set"==r)&&Ue.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Ue.marked="keyword",p(pe)):"variable"==e||"keyword"==Ue.style?(Ue.marked="property",p(Ie?ve:se,pe)):"["==e?p(g,x("]"),Ie?ve:se,pe):"*"==r?(Ue.marked="keyword",p(pe)):";"==e?p(pe):"}"==e?p():"@"==r?p(g,pe):void 0}function ve(e,r){return"?"==r?p(ve):":"==e?p(K,re):"="==r?p(V):m(se)}function ye(e,r){return"*"==r?(Ue.marked="keyword",p(ge,x(";"))):"default"==r?(Ue.marked="keyword",p(g,x(";"))):"{"==e?p(D(ke,"}"),ge,x(";")):m(h)}function ke(e,r){return"as"==r?(Ue.marked="keyword",p(x("variable"))):"variable"==e?m(V,ke):void 0}function be(e){return"string"==e?p():m(we,xe,ge)}function we(e,r){return"{"==e?F(we,"}"):("variable"==e&&v(r),"*"==r&&(Ue.marked="keyword"),p(he))}function xe(e){return","==e?p(we,xe):void 0}function he(e,r){return"as"==r?(Ue.marked="keyword",p(we)):void 0}function ge(e,r){return"from"==r?(Ue.marked="keyword",p(g)):void 0}function Ve(e){return"]"==e?p():m(D(V,"]"))}function Ae(e,r){return"operator"==e.lastType||","==e.lastType||We.test(r.charAt(0))||/[,.]/.test(r.charAt(0))}function je(e,r,t){return r.tokenize==i&&/^(?:operator|sof|keyword [bc]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(r.lastType)||"quasi"==r.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(t||0)))}var ze,Te,$e=r.indentUnit,Ee=t.statementIndent,qe=t.jsonld,Ce=t.json||qe,Ie=t.typescript,Me=t.wordCharacters||/[\w$\xa1-\uffff]/,Oe=function(){function e(e){return{type:e,style:"keyword"}}var r=e("keyword a"),t=e("keyword b"),n=e("keyword c"),a=e("operator"),i={type:"atom",style:"atom"},o={"if":e("if"),"while":r,"with":r,"else":t,"do":t,"try":t,"finally":t,"return":n,"break":n,"continue":n,"new":e("new"),"delete":n,"void":n,"throw":n,"debugger":n,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":a,"typeof":a,"instanceof":a,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i,"this":e("this"),"class":e("class"),"super":e("atom"),"yield":n,"export":e("export"),"import":e("import"),"extends":n,await:n};if(Ie){var u={type:"variable",style:"type"},c={"interface":e("class"),"implements":n,namespace:n,module:e("module"),"enum":e("module"),"public":e("modifier"),"private":e("modifier"),"protected":e("modifier"),"abstract":e("modifier"),readonly:e("modifier"),string:u,number:u,"boolean":u,any:u};for(var s in c)o[s]=c[s]}return o}(),We=/[+\-*&%=<>!?|~^@]/,Pe=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Se="([{}])",Ne={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Ue={state:null,column:null,marked:null,cc:null},Be={name:"this",next:{name:"arguments"}};return w.lex=!0,{startState:function(e){var r={tokenize:i,lastType:"sof",cc:[],lexical:new l((e||0)-$e,0,"block",!1),localVars:t.localVars,context:t.localVars&&{vars:t.localVars},indented:e||0};return t.globalVars&&"object"==typeof t.globalVars&&(r.globalVars=t.globalVars),r},token:function(e,r){if(e.sol()&&(r.lexical.hasOwnProperty("align")||(r.lexical.align=!1),r.indented=e.indentation(),s(e,r)),r.tokenize!=u&&e.eatSpace())return null;var t=r.tokenize(e,r);return"comment"==ze?t:(r.lastType="operator"!=ze||"++"!=Te&&"--"!=Te?ze:"incdec",d(r,t,ze,Te,e))},indent:function(r,n){if(r.tokenize==u)return e.Pass;if(r.tokenize!=i)return 0;var a,o=n&&n.charAt(0),c=r.lexical;if(!/^\s*else\b/.test(n))for(var s=r.cc.length-1;s>=0;--s){var l=r.cc[s];if(l==w)c=c.prev;else if(l!=ne)break}for(;("stat"==c.type||"form"==c.type)&&("}"==o||(a=r.cc[r.cc.length-1])&&(a==$||a==E)&&!/^[,\.=+\-*:?[\(]/.test(n));)c=c.prev;Ee&&")"==c.type&&"stat"==c.prev.type&&(c=c.prev);var f=c.type,d=o==f;return"vardef"==f?c.indented+("operator"==r.lastType||","==r.lastType?c.info+1:0):"form"==f&&"{"==o?c.indented:"form"==f?c.indented+$e:"stat"==f?c.indented+(Ae(r,n)?Ee||$e:0):"switch"!=c.info||d||0==t.doubleIndentSwitch?c.align?c.column+(d?0:1):c.indented+(d?0:$e):c.indented+(/^(?:case|default)\b/.test(n)?$e:2*$e)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Ce?null:"/*",blockCommentEnd:Ce?null:"*/",lineComment:Ce?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Ce?"json":"javascript",jsonldMode:qe,jsonMode:Ce,expressionAllowed:je,skipExpression:function(e){var r=e.cc[e.cc.length-1];(r==g||r==V)&&e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript")});
